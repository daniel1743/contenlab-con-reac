# üíé SISTEMA DE CR√âDITOS - MODELO DE NEGOCIO COMPLETO
**CreoVision Intelligence - Econom√≠a de Cr√©ditos**

**√öltima actualizaci√≥n:** 2025-11-09
**Versi√≥n:** 2.0
**Estado:** ‚úÖ Implementado y Operacional

---

## üìã √çNDICE

1. [Visi√≥n General del Sistema](#visi√≥n-general-del-sistema)
2. [Cat√°logo Completo de Servicios y Costos](#cat√°logo-completo-de-servicios-y-costos)
3. [Paquetes de Cr√©ditos](#paquetes-de-cr√©ditos)
4. [Planes de Suscripci√≥n](#planes-de-suscripci√≥n)
5. [Econom√≠a Din√°mica](#econom√≠a-din√°mica)
6. [Segmentaci√≥n por Tipo de Usuario](#segmentaci√≥n-por-tipo-de-usuario)
7. [Microcopy y Narrativa de Valor](#microcopy-y-narrativa-de-valor)
8. [Sistema de ROI Visible](#sistema-de-roi-visible)
9. [Arquitectura T√©cnica](#arquitectura-t√©cnica)
10. [Roadmap y Pr√≥ximas Implementaciones](#roadmap-y-pr√≥ximas-implementaciones)

---

## üìä VISI√ìN GENERAL DEL SISTEMA

### **Filosof√≠a de Monetizaci√≥n**

CreoVision opera bajo un **modelo freemium h√≠brido con cr√©ditos consumibles**:

- **100 cr√©ditos mensuales gratuitos** (Plan Free)
- **Cr√©ditos mensuales que expiran** (incentivo de uso constante)
- **Cr√©ditos comprados que NO expiran** (valor retenido)
- **Cr√©ditos bonus promocionales** (adquisici√≥n y retenci√≥n)

### **Tipos de Cr√©ditos**

| Tipo | Expiraci√≥n | Prioridad de Consumo | Uso Principal |
|------|------------|----------------------|---------------|
| **Monthly Credits** | 30 d√≠as | 1Ô∏è‚É£ Primera | Plan mensual |
| **Bonus Credits** | NO expiran | 2Ô∏è‚É£ Segunda | Promociones, referidos |
| **Purchased Credits** | NO expiran | 3Ô∏è‚É£ Tercera | Compras adicionales |

**L√≥gica de consumo:** Se gastan primero los mensuales (para que no expiren), luego bonus, y finalmente comprados.

---

## üí∞ CAT√ÅLOGO COMPLETO DE SERVICIOS Y COSTOS

### **1. Generaci√≥n de Contenido** (content_generation)

| Servicio | Slug | Cr√©ditos | ROI Estimado | Valor Percibido |
|----------|------|----------|--------------|-----------------|
| **Generador de Guiones Virales** | `viral_script` | 15 | $45-120/script | Ahorra 2-3 horas de redacci√≥n |
| **Generador de Threads Twitter** | `twitter_thread` | 8 | $25-60/thread | Aumenta engagement +35% |
| **Copy Publicitario** | `ad_copy` | 6 | $30-80/copy | Reduce costo de copywriter |
| **Generador de Hashtags** | `hashtag_generator` | 2 | $5-15 | Optimiza alcance +20% |

**Microcopy sugerido:**
- "Este gui√≥n te ahorra $85 en redacci√≥n profesional"
- "Threads optimizados que han generado +12K impresiones para otros usuarios"

---

### **2. An√°lisis con IA** (ai_analysis)

| Servicio | Slug | Cr√©ditos | ROI Estimado | Uso Principal |
|----------|------|----------|--------------|---------------|
| **An√°lisis de Imagen con IA** | `image_analysis` | 12 | $35-90 | Optimizaci√≥n de thumbnails |
| **An√°lisis de Video Competitor** | `video_analysis` | 15 | $50-150 | Estrategia competitiva |

**Microcopy sugerido:**
- "Este an√°lisis identifica oportunidades de $200-500/mes en tus competidores"
- "Thumbnails optimizadas con +40% CTR comprobado"

---

### **3. SEO y Research** (seo / research)

| Servicio | Slug | Cr√©ditos | ROI Estimado | Target User |
|----------|------|----------|--------------|-------------|
| **An√°lisis SEO** | `seo_analysis` | 5 | $20-50 | Agencias, Marketers |
| **Research de Tendencias** | `trend_research` | 4 | $15-40 | Creadores, Agencias |

**Microcopy sugerido:**
- "Evita $230/mes en herramientas SEO separadas"
- "Detecta tendencias 7 d√≠as antes que tu competencia"

---

### **4. Asistente IA** (ai_chat)

| Servicio | Slug | Cr√©ditos | Modelo | L√≠mites |
|----------|------|----------|--------|---------|
| **Coach Creo (mensaje)** | `ai_assistant` | 8 | Gemini 2.0 Flash Exp | Ilimitado para PRO/Premium |

**Microcopy sugerido:**
- "Un consultor de contenido 24/7 por $0.40/mensaje vs $120/hora"

---

### **5. Premium Analytics** (premium_analytics) üÜï

| Servicio | Slug | Cr√©ditos | Incluye | Target |
|----------|------|----------|---------|--------|
| **CreoVision Analytics Command Center** | `growth_dashboard` | **380** | ICE Matrix, Radar Alerts, Insights, Playbooks (bloqueados), ROI Proof | Agencias, YouTubers Pro |
| **Desbloqueo de Playbook** | `playbook_unlock` | **150** | Gu√≠a paso a paso con 5-15 pasos accionables | Power Users |

**Microcopy sugerido:**
- "Este an√°lisis identifica $5,000-15,000/mes en ingresos perdidos"
- "Playbooks que han ayudado a +500 canales a crecer 2.5x en 90 d√≠as"

---

### **6. Premium Features** (premium)

| Servicio | Slug | Cr√©ditos | Exclusivo | Descripci√≥n |
|----------|------|----------|-----------|-------------|
| **Asesor Premium** | `premium_advisor` | 25 | Premium plan | Sesi√≥n avanzada con IA especializada |
| **Generador de Miniatura IA** | `thumbnail_ai` | 10 | - | Crea thumbnails optimizadas |

---

## üì¶ PAQUETES DE CR√âDITOS

### **Plan PRO - Paquetes Adicionales**

| Paquete | Slug | Cr√©ditos | Bonus | Precio | Descuento | Featured |
|---------|------|----------|-------|--------|-----------|----------|
| **Mini** | `pro-mini` | 500 | +50 (10%) | $4.00 | 20% | No |
| **Medium** | `pro-medium` | 1,500 | +200 (13%) | $10.00 | 25% | ‚≠ê S√≠ |
| **Mega** | `pro-mega` | 5,000 | +1,000 (20%) | $30.00 | 30% | No |

**Costo por cr√©dito:**
- Mini: $0.0073/cr√©dito
- Medium: $0.0059/cr√©dito (**mejor valor**)
- Mega: $0.0050/cr√©dito

---

### **Plan PREMIUM - Paquetes Exclusivos**

| Paquete | Slug | Cr√©ditos | Bonus | Precio | Descuento | Featured |
|---------|------|----------|-------|--------|-----------|----------|
| **Premium Mini** | `premium-mini` | 500 | +75 (15%) | $3.50 | 30% | No |
| **Premium Medium** | `premium-medium` | 1,500 | +300 (20%) | $9.00 | 35% | ‚≠ê S√≠ |
| **Premium Mega** | `premium-mega` | 5,000 | +1,500 (30%) | $25.00 | 40% | No |
| **Premium Ultra** | `premium-ultra` | 15,000 | +7,500 (50%) | $60.00 | 50% | ‚≠ê‚≠ê S√≠ |

**Costo por cr√©dito:**
- Premium Mini: $0.0061/cr√©dito
- Premium Medium: $0.0050/cr√©dito
- Premium Mega: $0.0038/cr√©dito
- Premium Ultra: $0.0027/cr√©dito (**m√°ximo descuento**)

---

## üéØ PLANES DE SUSCRIPCI√ìN

### **Comparativa de Planes**

| Feature | Free | Pro | Premium |
|---------|------|-----|---------|
| **Cr√©ditos mensuales** | 100 | 500 | 2,000 |
| **Expiran cada** | 30 d√≠as | 30 d√≠as | 30 d√≠as |
| **Descuento en paquetes** | - | 20-30% | 30-50% |
| **Growth Dashboard** | ‚ùå | ‚úÖ ($380) | ‚úÖ ($380 con 20% descuento = $304) |
| **Playbooks** | ‚ùå | ‚úÖ ($150) | ‚úÖ ($150 con 20% descuento = $120) |
| **Coach Creo ilimitado** | ‚ùå (8 cr√©ditos/msg) | ‚úÖ Gratis | ‚úÖ Gratis |
| **An√°lisis de canal** | 1/mes | Ilimitado | Ilimitado |
| **Exportaciones** | B√°sicas | Avanzadas | Premium + CSV/JSON |
| **Soporte** | Email | Email + Chat | Prioritario + WhatsApp |
| **Precio mensual** | $0 | $19/mes | $49/mes |

---

## üìà ECONOM√çA DIN√ÅMICA

### **Precios Variables por Demanda (¬±20%)**

```javascript
// Implementaci√≥n sugerida
const getDynamicCreditCost = (baseCredit, serverLoad) => {
  const loadMultiplier = serverLoad > 0.8 ? 1.2 : serverLoad < 0.4 ? 0.8 : 1.0;
  return Math.ceil(baseCredit * loadMultiplier);
};

// Ejemplo:
// growth_dashboard: 380 cr√©ditos
// - Alta demanda (80%+ load): 456 cr√©ditos (+20%)
// - Baja demanda (<40% load): 304 cr√©ditos (-20%)
```

**Reglas de aplicaci√≥n:**
- ‚úÖ Aplicar solo a servicios premium (>100 cr√©ditos)
- ‚úÖ Mostrar "Precio din√°mico - ahorra 20%" cuando aplique descuento
- ‚úÖ Notificar "Alta demanda - precio ajustado" cuando aplique recargo
- ‚ùå NO aplicar a servicios b√°sicos (<20 cr√©ditos)

**UI/UX:**
```jsx
{isDynamicPricing && (
  <Badge variant={discount > 0 ? "success" : "warning"}>
    {discount > 0 ? `üéâ Ahorra ${discount}%` : `‚ö° Alta demanda +${surcharge}%`}
  </Badge>
)}
```

---

## üë• SEGMENTACI√ìN POR TIPO DE USUARIO

### **Identificaci√≥n Autom√°tica de Perfiles**

```javascript
// Behavioral tracking para segmentaci√≥n
const identifyUserType = (behaviorData) => {
  const {
    channelAnalysisCount,
    viralScriptCount,
    seoAnalysisCount,
    threadsCount,
    avgSessionTime,
    featuresUsed,
  } = behaviorData;

  // YouTuber activo
  if (channelAnalysisCount > 3 && viralScriptCount > 5) {
    return {
      type: 'youtuber',
      confidence: 0.85,
      recommendedModules: ['growth_dashboard', 'playbook_unlock', 'viral_script', 'thumbnail_ai'],
      upsellMessage: 'Creadores como t√∫ generan +$3,200/mes con Growth Dashboard'
    };
  }

  // Marketer / Social Media Manager
  if (threadsCount > 10 || (seoAnalysisCount > 5 && featuresUsed.includes('ad_copy'))) {
    return {
      type: 'marketer',
      confidence: 0.78,
      recommendedModules: ['seo_analysis', 'trend_research', 'twitter_thread', 'ad_copy'],
      upsellMessage: 'Ahorra $450/mes en herramientas reemplazando 3+ SaaS'
    };
  }

  // Agencia
  if (avgSessionTime > 45 && featuresUsed.length > 6) {
    return {
      type: 'agency',
      confidence: 0.92,
      recommendedModules: ['growth_dashboard', 'seo_analysis', 'video_analysis'],
      upsellMessage: 'Cobra $1,500/cliente por an√°lisis que te cuestan 380 cr√©ditos ($19)'
    };
  }

  return { type: 'explorer', confidence: 0.5 };
};
```

### **M√≥dulos Recomendados por Perfil**

| Perfil | Top 3 M√≥dulos | Probabilidad de Conversi√≥n | ARPU Estimado |
|--------|---------------|----------------------------|---------------|
| **YouTuber** | Growth Dashboard, Viral Script, Playbooks | 68% | $38/mes |
| **Marketer** | SEO Analysis, Threads, Ad Copy | 54% | $24/mes |
| **Agencia** | Growth Dashboard, Video Analysis, Exportaciones | 82% | $67/mes |
| **Explorer** | Script Generator, Hashtags, Trends | 31% | $12/mes |

---

## üí¨ MICROCOPY Y NARRATIVA DE VALOR

### **Ejemplos de Microcopy Implementado**

#### **Growth Dashboard (380 cr√©ditos)**
```jsx
<div className="value-proposition">
  <h3>üí∞ Potencial de Ingresos Identificados</h3>
  <p className="revenue-gap">$5,000 - $15,000/mes</p>
  <p className="microcopy">
    Este an√°lisis identifica oportunidades de monetizaci√≥n que otros canales
    similares est√°n aprovechando y t√∫ est√°s perdiendo.
  </p>
  <Badge>Inversi√≥n: 380 cr√©ditos (~$19) | ROI promedio: 15.8x en 90 d√≠as</Badge>
</div>
```

#### **Playbook Unlock (150 cr√©ditos)**
```jsx
<div className="playbook-value">
  <p className="microcopy">
    üìö 500+ creadores han usado este playbook para aumentar su CTR en 2.3x
  </p>
  <p className="savings">
    Ahorra $350 en consultor√≠a especializada
  </p>
</div>
```

#### **Viral Script (15 cr√©ditos)**
```jsx
<Badge variant="success">
  Genera en 30s lo que un copywriter cobra $85-120
</Badge>
```

#### **SEO Analysis (5 cr√©ditos)**
```jsx
<p className="microcopy">
  Reemplaza Ahrefs ($99/mes) + SEMrush ($119/mes) = $218/mes de ahorro
</p>
```

### **F√≥rmula de Microcopy Efectivo**

```
[Beneficio directo] + [Prueba social] + [Ahorro econ√≥mico]

Ejemplo:
"Este an√°lisis identifica $5K-15K/mes en ingresos perdidos (500+ usuarios lo confirman)
y te ahorra $1,200 en consultor√≠as"
```

---

## üìä SISTEMA DE ROI VISIBLE

### **Calculadora de ROI en Tiempo Real**

```jsx
const ROICalculator = ({ creditsSpent, module }) => {
  const roiData = {
    growth_dashboard: {
      avgRevenueIncrease: 8500,
      timeToROI: 45, // d√≠as
      successRate: 0.76
    },
    viral_script: {
      avgEngagementBoost: 0.35,
      equivalentCost: 95,
      timeToROI: 7
    },
    playbook_unlock: {
      avgGrowthRate: 2.3,
      equivalentCost: 350,
      timeToROI: 30
    }
  };

  const data = roiData[module];
  const creditCost = creditsSpent * 0.05; // $0.05/cr√©dito promedio

  return (
    <div className="roi-display">
      <div className="metric">
        <span>Inversi√≥n</span>
        <strong>${creditCost}</strong>
      </div>
      <div className="metric">
        <span>Retorno Estimado</span>
        <strong>${data.avgRevenueIncrease || data.equivalentCost}</strong>
      </div>
      <div className="metric">
        <span>ROI</span>
        <strong className="text-green-500">
          {Math.round((data.avgRevenueIncrease || data.equivalentCost) / creditCost)}x
        </strong>
      </div>
      <div className="metric">
        <span>Tiempo a ROI</span>
        <strong>{data.timeToROI} d√≠as</strong>
      </div>
    </div>
  );
};
```

### **Dashboard de Ahorro Acumulado**

Mostrar en perfil de usuario:

```jsx
<Card className="savings-dashboard">
  <h3>üí∞ Tus Ahorros Acumulados</h3>
  <div className="stats">
    <Stat label="Valor generado" value="$2,340" />
    <Stat label="Invertido en cr√©ditos" value="$87" />
    <Stat label="ROI total" value="26.9x" trend="up" />
  </div>
  <p className="microcopy">
    Has ahorrado el equivalente a contratar 3 freelancers especializados
  </p>
</Card>
```

---

## üõ†Ô∏è ARQUITECTURA T√âCNICA

### **Tablas de Base de Datos**

#### **1. user_credits**
```sql
CREATE TABLE user_credits (
  user_id UUID PRIMARY KEY,
  monthly_credits INT DEFAULT 100,
  purchased_credits INT DEFAULT 0,
  bonus_credits INT DEFAULT 0,
  total_credits INT GENERATED ALWAYS AS (monthly_credits + purchased_credits + bonus_credits),
  subscription_plan TEXT DEFAULT 'free', -- 'free', 'pro', 'premium'
  last_monthly_reset TIMESTAMPTZ DEFAULT NOW()
);
```

#### **2. feature_credit_costs**
```sql
CREATE TABLE feature_credit_costs (
  feature_slug TEXT PRIMARY KEY,
  feature_name TEXT NOT NULL,
  credit_cost INT NOT NULL,
  base_cost INT NOT NULL, -- Para precios din√°micos
  dynamic_pricing_enabled BOOLEAN DEFAULT false,
  category TEXT,
  roi_estimate_usd DECIMAL(10,2),
  active BOOLEAN DEFAULT true
);
```

#### **3. credit_transactions**
```sql
CREATE TABLE credit_transactions (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id),
  type TEXT, -- 'spend', 'purchase', 'bonus', 'monthly_reset'
  amount INT,
  feature TEXT REFERENCES feature_credit_costs(feature_slug),
  balance_after_total INT,
  metadata JSONB, -- Para tracking de ROI
  timestamp TIMESTAMPTZ DEFAULT NOW()
);
```

### **Funciones SQL Cr√≠ticas**

#### **consume_credits() - Con Prioridad**
```sql
-- Implementado en: 004_create_credit_system.sql:256-333
-- Prioridad: 1. Monthly ‚Üí 2. Bonus ‚Üí 3. Purchased
```

#### **calculate_dynamic_price() - Nuevo**
```sql
CREATE OR REPLACE FUNCTION calculate_dynamic_price(
  p_feature_slug TEXT,
  p_server_load DECIMAL DEFAULT 0.5
)
RETURNS INT AS $$
DECLARE
  v_base_cost INT;
  v_dynamic_enabled BOOLEAN;
  v_final_cost INT;
BEGIN
  SELECT base_cost, dynamic_pricing_enabled
  INTO v_base_cost, v_dynamic_enabled
  FROM feature_credit_costs
  WHERE feature_slug = p_feature_slug;

  IF NOT v_dynamic_enabled THEN
    RETURN v_base_cost;
  END IF;

  -- Alta demanda: +20%, Baja demanda: -20%
  IF p_server_load > 0.8 THEN
    v_final_cost := CEIL(v_base_cost * 1.2);
  ELSIF p_server_load < 0.4 THEN
    v_final_cost := CEIL(v_base_cost * 0.8);
  ELSE
    v_final_cost := v_base_cost;
  END IF;

  RETURN v_final_cost;
END;
$$ LANGUAGE plpgsql;
```

---

## üöÄ ROADMAP Y PR√ìXIMAS IMPLEMENTACIONES

### **Q1 2025 - En Progreso**

- [x] Sistema base de cr√©ditos (completado)
- [x] Growth Dashboard (380 cr√©ditos) (completado)
- [x] Playbook unlock system (150 cr√©ditos) (completado)
- [x] Consumo con prioridad (monthly ‚Üí bonus ‚Üí purchased) (completado)
- [ ] Precios din√°micos por demanda (en desarrollo)
- [ ] Segmentaci√≥n autom√°tica de usuarios (en desarrollo)
- [ ] Dashboard de ROI visible (pendiente)

### **Q2 2025 - Planificado**

- [ ] **Sistema de Referidos:**
  - Referido gana 50 bonus credits
  - Referidor gana 100 bonus credits al primer pago del referido
  - Comisi√≥n 10% en compras del referido (primeros 6 meses)

- [ ] **Cr√©ditos Promocionales Inteligentes:**
  - "Prueba gratis Growth Dashboard" (1 uso, usuario nuevo)
  - "50% descuento en tu primer playbook" (para usuarios con >500 cr√©ditos acumulados)
  - "Double credits weekend" (eventos promocionales)

- [ ] **Suscripciones Anuales con Descuento:**
  - Pro Annual: $190/a√±o (ahorro $38, 2 meses gratis)
  - Premium Annual: $490/a√±o (ahorro $98, 2 meses gratis)

### **Q3 2025 - Expansi√≥n**

- [ ] **API P√∫blica para Agencias:**
  - 5,000 cr√©ditos/mes incluidos
  - $99/mes + $0.01/cr√©dito adicional
  - Webhooks para integraci√≥n

- [ ] **Marketplace de Playbooks:**
  - Creadores verificados pueden vender playbooks
  - CreoVision toma 30% comisi√≥n
  - Precio sugerido: 100-300 cr√©ditos

- [ ] **Enterprise Plan:**
  - 10,000+ cr√©ditos/mes
  - Multi-usuario (5-25 seats)
  - Whitelabel opcional
  - $299-999/mes

---

## üìå CHECKLIST DE ACTUALIZACI√ìN

Al agregar nuevos servicios, actualizar:

- [ ] `feature_credit_costs` tabla en Supabase
- [ ] Este documento (SISTEMA-CREDITOS-NEGOCIO.md)
- [ ] `ESTADO-FINAL-IMPLEMENTACIONES.md`
- [ ] Microcopy en componentes UI
- [ ] ROI calculator data
- [ ] Segmentation logic (si aplica)
- [ ] Tests de integraci√≥n

---

## üîó ENLACES Y REFERENCIAS

### **Archivos Relacionados**

- `supabase/migrations/004_create_credit_system.sql` - Schema completo
- `supabase/migrations/020_growth_dashboard_system.sql` - Growth Dashboard
- `src/services/growthDashboardService.js` - L√≥gica de frontend
- `api/growthDashboard.js` - Backend endpoint
- `src/components/PlaybookCard.jsx` - Sistema de unlock

### **Dashboards**

- Supabase: https://app.supabase.com
- Analytics: (pendiente Google Analytics 4)
- Payments: (pendiente MercadoPago)

---

**Elaborado por:** Daniel + Claude Code
**Versi√≥n:** 2.0
**√öltima revisi√≥n:** 2025-11-09
**Pr√≥xima revisi√≥n:** Cada implementaci√≥n de feature nueva

---

## üí° NOTAS ESTRAT√âGICAS

### **Psicolog√≠a de Precios**

1. **Anclaje:** Mostrar siempre "Precio original tachado" en paquetes con descuento
2. **Escasez:** "Solo 3 an√°lisis de Growth Dashboard disponibles hoy a precio reducido"
3. **Social Proof:** "847 usuarios usaron este m√≥dulo esta semana"
4. **Loss Aversion:** "Pierdes $230/mes sin este an√°lisis" > "Ganas $230/mes con este an√°lisis"

### **Triggers de Conversi√≥n**

- Usuario alcanza 80% de cr√©ditos mensuales ‚Üí Modal "Evita quedarte sin cr√©ditos"
- Usuario completa 3+ an√°lisis de canal ‚Üí "Desbloquea Growth Dashboard con 20% descuento"
- Usuario inactivo 7+ d√≠as ‚Üí Email "50 cr√©ditos gratis al regresar"

### **M√©tricas Clave a Monitorear**

- **Credit Burn Rate:** Promedio cr√©ditos/d√≠a por plan
- **Purchase Conversion Rate:** % usuarios que compran paquetes adicionales
- **ARPU (Average Revenue Per User):** Por plan y por perfil de usuario
- **LTV (Lifetime Value):** Proyecci√≥n a 12 meses
- **Churn Rate:** Por plan y por trigger de cancelaci√≥n

---

‚úÖ **Documento Vivo - Actualizar con cada cambio de precio o nuevo servicio**
